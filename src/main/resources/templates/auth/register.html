<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8" />
  <title>Register</title>
</head>
<body>
  <h1>Create account</h1>

  <div th:if="${#fields.hasErrors('*')}" style="color:#b00020;">
    <p>Please fix the following errors:</p>
    <ul>
      <li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
    </ul>
  </div>

  <form th:action="@{/register}" th:object="${form}" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <div>
      <label>Full name</label>
      <input type="text" th:field="*{fullName}" />
      <div th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}"></div>
    </div>

    <div>
      <label>School email</label>
      <input type="email" th:field="*{email}" placeholder="user@bromsgrove-school.co.uk" />
      <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
    </div>

    <div>
      <label>Password</label>
      <input type="password" th:field="*{password}" />
      <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
    </div>

    <div>
      <label>Year group</label>
      <select th:field="*{yearGroup}">
        <option value="" disabled selected>Choose...</option>
        <option th:each="yg : ${yearGroups}" th:value="${yg}" th:text="${yg}"></option>
      </select>
      <div th:if="${#fields.hasErrors('yearGroup')}" th:errors="*{yearGroup}"></div>
    </div>

    <div>
      <label>Exam board</label>
      <select th:field="*{examBoard}">
        <option value="" disabled selected>Choose...</option>
        <option th:each="eb : ${examBoards}" th:value="${eb}" th:text="${eb}"></option>
      </select>
      <div th:if="${#fields.hasErrors('examBoard')}" th:errors="*{examBoard}"></div>
    </div>

    <button type="submit">Register</button>
  </form>

  <p><a th:href="@{/login}">Back to login</a></p>
</body>
</html>